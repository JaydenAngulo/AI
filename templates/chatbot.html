<!DOCTYPE html>

<html lang="en">
    
    <head>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Financial AI Chatbot</title>
        <link rel="stylesheet" href="../chatbot.css">

    </head>

    <body>

        <header>
            <nav class="navbar">
                <a href="../home/AI.html" class="nav-button">Home</a>
                <a href="../about/about.html" class="nav-button">About</a>
                <a href="chatbot.html" class="nav-button">Chatbot</a>
            </nav>
        </header>

        <h1>The Financial AI Chatbot</h1>
        <h2>This is our AI chatbot</h2>
        <h3>Go ahead and ask our chatbot any questions you may have about finances. This chatbot however cannot legally give you financial advice or give you 100% guaranteed good financial ideas.</h3>
        <h4>This website belongs to Jayden Angulo</h4>


        <div id="chat"></div>
        
        <input type="text" id="userInput" placeholder="Type your message...">
        <button onclick="sendMessage()">Send</button>

        <script>
            async function sendMessage() {
                const inputBox = document.getElementById("userInput");
                const message = inputBox.value;
                if (!message) return;

                const chatDiv = document.getElementById("chat");
                chatDiv.innerHTML += '<p><b>You:</b> ${message}</p>';

                const res = await fetch("/ask", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ message: message })
                });

                const data = await res.json();

                chatDiv.innerHTML += '<p><b>AI:</b> ${data.response.replace(/\n/g, "<br>")}</p>';

                inputBox.value = "";
                chatDiv.scrollTop = chatDiv.scrollHeight;
            }
        </script>
    </body>
</html>